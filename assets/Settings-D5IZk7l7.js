import{g as T,r as i,e as b,f as g,m as I,d as h,Q as c,j as e}from"./index-fdxPoZT0.js";import{U as L}from"./user-DR2xHZdE.js";import{B as M}from"./bell-DJ4cRQLV.js";import{c as N}from"./createLucideIcon-CsBz9SFX.js";import{L as P}from"./loader-0St_nuAy.js";import{P as $}from"./plus-DEzo-GpR.js";import{T as G}from"./trash-2-Dp4ZJ3Vj.js";import{S as V}from"./save-C3sRUl_n.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=N("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=N("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);function H(){var v;const{userData:s}=T(),[r,d]=i.useState("perfil"),[w,k]=i.useState(!0),[S,p]=i.useState(!1),[n,m]=i.useState({ticketTypes:[],marketplaces:[]}),[x,f]=i.useState(""),[a,y]=i.useState("ticketTypes");i.useEffect(()=>{r==="cadastros"&&C()},[r]);const C=async()=>{p(!0);try{const t=b(g,"sys_settings","general"),o=await I(t);if(o.exists())m(o.data());else{const l={ticketTypes:["Devolução","Reembolso","Fraude","Contatar MarketPlace","Contatar Cliente","Interno","Defeito","Prejuízo","Atraso na entrega","Produto errado","Faltou item","Dúvida técnica","Cancelamento"],marketplaces:["Mercado Livre","Amazon","Interno","Shopee","Magalu"]};await h(t,l),m(l)}}catch(t){console.error("Error fetching settings:",t),c.error("Erro ao carregar configurações.")}finally{p(!1)}},j=async()=>{if(!x.trim())return;const t=[...n[a]||[],x.trim()],o={...n,[a]:t};try{await h(b(g,"sys_settings","general"),o),m(o),f(""),c.success("Item adicionado com sucesso!")}catch(l){console.error("Error adding item:",l),c.error("Erro ao adicionar item.")}},E=async t=>{const o=n[a].filter(u=>u!==t),l={...n,[a]:o};try{await h(b(g,"sys_settings","general"),l),m(l),c.success("Item removido com sucesso!")}catch(u){console.error("Error deleting item:",u),c.error("Erro ao remover item.")}},A=()=>{c.success("Configurações salvas com sucesso!")};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Configurações"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>d("perfil"),className:`px-6 py-4 font-medium text-sm flex items-center gap-2 transition-colors whitespace-nowrap ${r==="perfil"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(L,{className:"w-4 h-4"})," Perfil"]}),e.jsxs("button",{onClick:()=>d("notificacoes"),className:`px-6 py-4 font-medium text-sm flex items-center gap-2 transition-colors ${r==="notificacoes"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(M,{className:"w-4 h-4"})," Notificações"]}),e.jsxs("button",{onClick:()=>d("seguranca"),className:`px-6 py-4 font-medium text-sm flex items-center gap-2 transition-colors ${r==="seguranca"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(R,{className:"w-4 h-4"})," Segurança"]}),e.jsxs("button",{onClick:()=>d("cadastros"),className:`px-6 py-4 font-medium text-sm flex items-center gap-2 transition-colors ${r==="cadastros"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(z,{className:"w-4 h-4"})," Cadastros Gerais"]})]}),e.jsxs("div",{className:"p-6",children:[r==="perfil"&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-2xl",children:(v=s==null?void 0:s.nome)==null?void 0:v.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800",children:s==null?void 0:s.nome}),e.jsx("p",{className:"text-gray-500",children:s==null?void 0:s.email}),e.jsx("p",{className:"text-xs text-blue-600 font-medium mt-1",children:"Administrador"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),e.jsx("input",{type:"text",defaultValue:s==null?void 0:s.nome,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",defaultValue:s==null?void 0:s.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]})]})]}),r==="notificacoes"&&e.jsx("div",{className:"space-y-6 animate-fade-in",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receba atualizações sobre seus chamados."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:t=>k(t.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),r==="seguranca"&&e.jsx("div",{className:"space-y-6 animate-fade-in",children:e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-yellow-800 text-sm mb-1",children:"Alterar Senha"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Para alterar sua senha, enviaremos um link de redefinição para seu email cadastrado."}),e.jsx("button",{className:"mt-3 text-sm font-medium text-yellow-900 underline hover:text-yellow-700",children:"Enviar email de redefinição"})]})}),r==="cadastros"&&e.jsx("div",{className:"space-y-6 animate-fade-in",children:S?e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(P,{className:"w-8 h-8 text-blue-600 animate-spin"})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-1 space-y-2",children:[e.jsx("button",{onClick:()=>y("ticketTypes"),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors ${a==="ticketTypes"?"bg-blue-50 text-blue-700 border border-blue-200":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"Tipos de Chamado"}),e.jsx("button",{onClick:()=>y("marketplaces"),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors ${a==="marketplaces"?"bg-blue-50 text-blue-700 border border-blue-200":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"Marketplaces"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b pb-2",children:a==="ticketTypes"?"Gerenciar Tipos de Chamado":"Gerenciar Marketplaces"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Novo item...",value:x,onChange:t=>f(t.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",onKeyDown:t=>t.key==="Enter"&&j()}),e.jsx("button",{onClick:j,disabled:!x.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 max-h-[400px] overflow-y-auto divide-y divide-gray-100",children:[(n[a]||[]).map((t,o)=>e.jsxs("div",{className:"flex justify-between items-center p-3 hover:bg-white transition-colors",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:t}),e.jsx("button",{onClick:()=>E(t),className:"text-gray-400 hover:text-red-600 p-1.5 rounded-full hover:bg-red-50 transition-colors",title:"Excluir",children:e.jsx(G,{className:"w-4 h-4"})})]},o)),(n[a]||[]).length===0&&e.jsx("div",{className:"p-6 text-center text-gray-400 text-sm",children:"Nenhum item cadastrado."})]})]})]})}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-end",children:r!=="cadastros"&&e.jsxs("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors",children:[e.jsx(V,{className:"w-5 h-5"})," Salvar Alterações"]})})]})]})]})}export{H as default};
