import{h as z,u as L,i as V,r,q as A,w as b,k as $,o as O,j as e,Q as j,a as E}from"./index-CctG6MhF.js";import{c as l}from"./createLucideIcon-CfrOEuNd.js";import{B as v}from"./bell-CZhnjpiD.js";import{S as H}from"./scan-barcode-CUw9Rm_r.js";import{U as I}from"./user-DK3kMeGa.js";import{X as w}from"./x-D3Wnf804.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=l("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=l("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=l("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=l("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=l("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=l("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=l("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=l("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=l("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=l("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=l("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);function ee({children:k}){var g;const{userData:a,logout:N}=z(),h=L(),p=V(),[x,i]=r.useState(!1),[o,C]=r.useState(()=>{const t=localStorage.getItem("sidebarPinned");return t!==null?JSON.parse(t):!0}),[M,y]=r.useState(!1),s=o||M,S=()=>{const t=!o;C(t),localStorage.setItem("sidebarPinned",JSON.stringify(t))},m=async()=>{try{await N(),h("/login")}catch(t){console.error("Erro ao sair:",t)}},[n,P]=r.useState(0);r.useEffect(()=>{if(!(a!=null&&a.nome))return;const t=A($(E,"chamados"),b("responsavel","==",a.nome),b("status","in",["Aberto","Pendente","Revisão"])),c=O(t,q=>{P(q.size)});return()=>c()},[a]);const f=[{icon:T,label:"Painel",path:"/"},{icon:d,label:"Chamados",path:"/chamados"},{icon:U,label:"Kanban",path:"/kanban"},{icon:J,label:"Estoque",path:"/estoque"},{icon:B,label:"Verificação",path:"/verificacao"},{icon:Z,label:"Suporte",path:"/suporte"},{icon:H,label:"Flex",path:"/flex"},{icon:Q,label:"Configurações",path:"/configuracoes"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col md:flex-row",children:[e.jsxs("aside",{className:`hidden md:flex print:hidden flex-col bg-white border-r border-gray-200 fixed h-full z-10 transition-all duration-300 ease-in-out ${s?"w-64":"w-20"}`,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[e.jsxs("div",{className:`p-4 flex items-center ${s?"justify-between":"justify-center"} border-b border-gray-100 h-20`,children:[s?e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(d,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-xl text-gray-800 whitespace-nowrap",children:"Appsi"})]}):e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(d,{className:"w-5 h-5 text-white"})}),s&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("button",{onClick:()=>j.info(`Você tem ${n} chamados ativos.`),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors relative",title:"Notificações",children:[e.jsx(v,{className:"w-4 h-4"}),n>0&&e.jsx("span",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-red-500 rounded-full border border-white"})]}),e.jsx("button",{onClick:S,className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:o?"Desafixar menu":"Fixar menu",children:o?e.jsx(K,{className:"w-4 h-4"}):e.jsx(R,{className:"w-4 h-4"})})]})]}),e.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto overflow-x-hidden",children:f.map(t=>{const c=p.pathname===t.path;return e.jsxs("button",{onClick:()=>h(t.path),className:`w-full flex items-center ${s?"gap-3 px-4":"justify-center px-2"} py-3 rounded-lg text-sm font-medium transition-colors ${c?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,title:s?"":t.label,children:[e.jsx(t.icon,{className:`w-5 h-5 flex-shrink-0 ${c?"text-blue-600":"text-gray-400"}`}),s&&e.jsx("span",{className:"whitespace-nowrap truncate",children:t.label})]},t.path)})}),e.jsxs("div",{className:"p-4 border-t border-gray-100",children:[e.jsxs("div",{className:`flex items-center ${s?"gap-3":"justify-center"} p-2 rounded-lg bg-gray-50 mb-3`,children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold flex-shrink-0",children:((g=a==null?void 0:a.nome)==null?void 0:g.charAt(0).toUpperCase())||e.jsx(I,{className:"w-4 h-4"})}),s&&e.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(a==null?void 0:a.nome)||"Usuário"})})]}),s?e.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx(u,{className:"w-4 h-4"}),"Sair"]}):e.jsx("button",{onClick:m,className:"w-full flex items-center justify-center p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Sair",children:e.jsx(u,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"md:hidden print:hidden fixed top-0 w-full bg-white border-b border-gray-200 z-20 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(d,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-bold text-lg text-gray-800",children:"Appsi"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative p-2 cursor-pointer",onClick:()=>j.info(`Você tem ${n} chamados ativos.`),children:[e.jsx(v,{className:"w-6 h-6 text-gray-600"}),n>0&&e.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold flex items-center justify-center rounded-full",children:n})]}),e.jsx("button",{onClick:()=>i(!x),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:x?e.jsx(w,{className:"w-6 h-6"}):e.jsx(F,{className:"w-6 h-6"})})]})]}),x&&e.jsx("div",{className:"md:hidden fixed inset-0 bg-gray-800 bg-opacity-50 z-30",onClick:()=>i(!1),children:e.jsxs("div",{className:"absolute right-0 top-0 h-full w-64 bg-white shadow-xl p-4 flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"font-bold text-lg",children:"Menu"}),e.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:e.jsx(w,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto",children:f.map(t=>e.jsxs("button",{onClick:()=>{h(t.path),i(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium ${p.pathname===t.path?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(t.icon,{className:"w-5 h-5"}),t.label]},t.path))}),e.jsx("div",{className:"border-t border-gray-100 pt-4 mt-4",children:e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:[e.jsx(u,{className:"w-4 h-4"}),"Sair"]})})]})}),e.jsx("main",{className:`flex-1 transition-all duration-300 ease-in-out p-6 pt-20 md:pt-6 print:m-0 print:p-0 ${s?"md:ml-64":"md:ml-20"}`,children:e.jsx("div",{className:"max-w-7xl mx-auto",children:k})})]})}export{ee as default};
